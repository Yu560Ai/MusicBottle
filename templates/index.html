<!DOCTYPE html>
<html lang="zh">
<head>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>音乐漂流瓶</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
</head>
<body>
    <div class="outer-container">
        <div class="hero-container">
            <h1>音乐漂流瓶</h1>
            <div class="button-container">
                <button onclick="showSendBottlePopup()">丢瓶子</button>
                <button onclick="pickBottle()">捡瓶子</button>
                <button onclick="showHelpPopup()">帮助</button>
            </div>

            <!-- 捡瓶子的弹窗 -->
            <!-- <div id="pick-popup" class="popup" style="display: none;">
                <div class="popup-content">
                    <span class="close" onclick="closePopup('pick-popup')">&times;</span>
                    <h2>捡到一个瓶子！</h2>
                    <p id="song-info"></p>

                    <button onclick="showSendBottlePopup()">丢瓶子</button>
                    <button onclick="window.location.href='/'">返回主页</button>
                </div>
            </div> -->
            
            <!-- 捡瓶子的弹窗 -->
            <!-- <div id="pick-popup" class="popup" style="display: none;">
                <div class="popup-content">
                    <span class="close" onclick="closePopup('pick-popup')">&times;</span>
                    <h2>捡到一个瓶子！</h2>
                    <p id="song-info"></p>
                    <p id="song-link"></p> 
                    
                    <button onclick="showSendBottlePopup()">丢瓶子</button>
                    <button onclick="window.location.href='/'">返回主页</button>
                </div>
            </div> -->

            <!-- 捡瓶子的弹窗 -->
            <!-- <div id="pick-popup" class="popup" style="display: none;">
                <div class="popup-content">
                    <span class="close" onclick="closePopup('pick-popup')">&times;</span>
                    <h2>捡到一个瓶子！</h2>
                    <p id="song-info"></p> 
                    <iframe 
                        id="music-player" 
                        src="" 
                        width="100%" 
                        height="300px" 
                        frameborder="0" 
                        allowfullscreen>
                    </iframe>
                    <button onclick="window.location.href='/'">返回主页</button>
                </div>
            </div> -->

        <!-- 捡瓶子的弹窗 -->
        <!-- <div id="pick-popup" class="popup" style="display: none;">
            <div class="popup-content">
                <span class="close" onclick="closePopup('pick-popup')">&times;</span>
                <h2>捡到一个瓶子！</h2>
                <p id="song-info"></p> 
                <iframe 
                    id="music-player" 
                    src="" 
                    width="100%" 
                    height="300px" 
                    frameborder="0" 
                    allowfullscreen>
                </iframe>
                <button onclick="window.location.href='/'">返回主页</button>
            </div>
        </div> -->


        <!-- <div id="pick-popup" class="popup">
            <div class="popup-content">
                <span class="close" onclick="closePopup('pick-popup')">&times;</span>
                <h2>捡到一个瓶子！</h2>
                <p id="song-info">这里是歌曲信息</p>
                <p>（复制后点击“去听音乐”）</p>
                <button onclick="redirectToQQMusic(document.getElementById('song-info').innerText)">去听音乐</button>
                <button onclick="window.location.href='/'">返回主页</button>
            </div>
        </div> -->


            <!-- 捡瓶子弹窗 -->
            <!-- <div id="pick-popup" class="popup" style="display: none;">
                <div class="popup-content">
                    <span class="close" onclick="closePopup('pick-popup')">&times;</span>
                    <h2>捡到一个瓶子！</h2>
                    <p id="song-info"></p> 
                    <button id="music-button">去听音乐</button> 
                    <button onclick="window.location.href='/'">返回主页</button>
                </div>
            </div> -->

            <!-- 捡瓶子弹窗 -->
            <div id="pick-popup" class="popup" style="display: none;">
                <div class="popup-content">
                    <span class="close" onclick="closePopup('pick-popup')">&times;</span>
                    <h2>捡到一个瓶子！</h2>
                    <p id="song-info">这里是歌曲信息</p> <!-- 显示歌曲信息 -->
                    <p style="font-size: 14px; color: gray;">请复制以上歌曲信息到音乐播放器搜索。</p> <!-- 提示用户复制 -->
                    <div style="display: flex; justify-content: center; gap: 10px; margin-top: 15px;">
                        <button onclick="showSendBottlePopup()">丢瓶子</button>
                        <button onclick="window.location.href='/'">返回主页</button>
                    </div>
                </div>
            </div>
        
        

            <!-- 丢瓶子的弹窗 -->
            <div id="send-popup" class="popup" style="display: none;">
                <div class="popup-content">
                    <span class="close" onclick="closePopup('send-popup')">&times;</span>
                    <h2>丢瓶子</h2>
                    <form id="send-bottle-form">
                        <label for="song_name">歌曲名:</label>
                        <input type="text" id="song_name" name="song_name" required><br><br>
                        
                        <label for="artist_name">歌手名:</label>
                        <input type="text" id="artist_name" name="artist_name" required><br><br>

                        <label for="mood">写下你此刻的心情 (50字以内):</label>
                        <textarea id="mood" name="mood" maxlength="50" required></textarea><br><br>
                        
                        <button type="button" onclick="sendBottle()">丢出瓶子</button>
                    </form>
                </div>
            </div>

            <!-- 发送成功的弹窗 -->
            <div id="success-popup" class="popup" style="display: none;">
                <div class="popup-content">
                    <span class="close" onclick="closePopup('success-popup')">&times;</span>
                    <h2 id="success-message">瓶子已成功丢出！</h2>
                    <button onclick="window.location.href='/'">回到主页</button>
                    <button onclick="pickBottle()">捡瓶子</button>
                </div>
            </div>

            <!-- 帮助弹窗 -->
            <div id="help-popup" class="popup" style="display: none;">
                <div class="popup-content">
                    <span class="close" onclick="closePopup('help-popup')">&times;</span>
                    <h2>使用帮助</h2>
                    <p>欢迎使用音乐漂流瓶！</p>
                    <p>您可以通过以下按钮体验功能：</p>
                    <ul>
                        <li><strong>丢瓶子：</strong>填写歌曲和歌手信息，并写下你此刻的心情，将它漂流出去。</li>
                        <li><strong>捡瓶子：</strong>捡到一首漂流瓶中的歌曲。</li>
                    </ul>
                    <button onclick="closePopup('help-popup')">关闭</button>
                </div>
            </div>

        </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>
